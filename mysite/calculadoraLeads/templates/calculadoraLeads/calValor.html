{% extends 'calculadoraLeads/main.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/valor.css' %}">
{% endblock %}
{% block content %}


<div class="container textoCentral mb-5 pl-5">
  <p class="textoarriba"><span>Welcome.</span> Our leads calculator is a tool that helps you effortlessly calculate your marketing investment need!</p>
</div>


<div class="container d-flex justify-content-around  flex-wrap">
  <!--CONTENEDOR IZQUIERDA-->
  <div class="container contenedorIngresaDatos d-flex justify-content-top flex-column">
    <h6>GOAL OF NEW CLIENTS PER MONTH</h6>
    <div class="clientsPerMonthValue">
      <input id="clientesPorMes" type="text" placeholder="000">
    </div>

    <div class="averageRevenueText">
      <p>Average revenue per customer</p>
      <input onblur="ingresoTotal();" id="ingresoPromedioPorCliente" class="averagerevenue" type="text" placeholder="  $ 000,000,000  "><span class="ml-2">MXN</span>
    </div>

    <div class="leadsConvertIntoCostumerPercentage mt-3">
      <p>% of leads that convert into customers</p>
      <div class="field range">
        
        <input id="slidePorcentajeClientes" type="range" min="0" max="100" value="0" steps="10">
        <div id="porcentajeClientes" class="value righ2">0%</div>
      </div>
    </div>

    <div class="leadsConvertIntoCostumerPercentage mt-3">
      <p>% of website visits that convert into leads</p>
      <div class="field range">
        
        <input id="slidePromedioClientes" type="range" min="0" max="30000" value="0" steps="10">
        <div class="value righ2">0%</div>
      </div>
    </div>


   


    <div class="costPerVisit">
      <p>Cost per visit</p>
      <input class="averagerevenue" type="text" placeholder="  $ 000,000,000  "><span class="ml-2">MXN</span>
    </div>

    <!--FIN DE CONTENDEDOR IZQUIERDA-->

    

  </div>

  <div class="contenedor d-flex justify-content-around flex-column">

    <div class="container circulosPorcentaje d-flex justify-content-around">

      <div class="container  contenedor3">

        <div class="circular-progress" id="circular-progress">
          <div class="value-container description">NEW LEADS NEEDED<br> PER MONTH</div>
          <div class="value-container" id="valor-circulo">0%</div>
          
        </div>
        <div class="newClientsLeads">
          <p>New  clients</p>
          <span>000</span>
        </div>
      </div>
  
      <div class="container contenedor4">
        <div class="circular-progress" id="circular-progreso">
          <div class="value-container description">NEW WEBSITE VISITORS <br> NEEDED PER MONT</div>
          <div class="value-container" id="vs">0%</div>
          
        </div>

        <div class="newClientsLeads">
          <p>New Leads</p>
          <span>000</span>
        </div>
      </div>

    </div>

    <div class="container contenedor-Resultados">
      <div class="resultado d-flex justify-content-between">
        <p>Total revenue from new customers per month</p>
        <span id="resultadoIngresosTotales">$ 000,000,000 MXN</span>
      </div>
      <div class="resultado d-flex justify-content-between necesaryInvestment">
        <p>investment in marketing necessary to achieve <br> the goal</p>
        <span>$ 000,000,000 MXN</span>
      </div>
      <div class="container d-flex  split pr-0">
        <div class="resultado d-flex justify-content-around bloque">
          <p class="mr-2">COST PER LEAD</p>
          <span>$ 000,000,000 MXN</span>
        </div>
        <div class="resultado d-flex justify-content-between ml-3 bloque">
          <p>Return On Advertising Spend</p>
          <span>%000</span>
        </div>
        
      </div>
    </div>
    
  </div>

  

  

</div>



<script>
  let clientesAlMes = document.getElementById("clientesPorMes");

  
  const slideValuePorcentaje = document.getElementById("porcentajeClientes");
  const inputSliderPorcentaje = document.getElementById("slidePorcentajeClientes");
  inputSliderPorcentaje.oninput = (() => {
      let value = inputSliderPorcentaje.value;
      slideValuePorcentaje.textContent = '%' + value;
      slideValuePorcentaje.style.left = (value / 2) + "%";
      slideValuePorcentaje.classList.add("show");

      
      console.log(value*clientesAlMes.value);


  });
  inputSliderPorcentaje.onblur = (() => {
        slideValuePorcentaje.classList.remove("show");
  });


    /* FORMULAS DE RESULTADOS */
    
    let ingresoPromedioPorCliente = document.getElementById("ingresoPromedioPorCliente");
    let resultadoIngresosTotales = document.getElementById("resultadoIngresosTotales");
    function ingresoTotal() {
        ingresototal = (clientesAlMes.value * ingresoPromedioPorCliente.value);
        resultadoIngresosTotales.textContent = '$ '+ingresototal+' MXN'
        
    };

    /* ----------  CIRCULOS DE PORCENTAJE   */  

    let progressBar1 = document.getElementById("circular-progress");
    let valueContainer1 = document.getElementById("valor-circulo")

    let progressValue1 = 0;
    let progressEndValue1 = 900;
    let speed = 0.5

    let progress = setInterval( () =>{

      progressValue1++;
      valueContainer1.textContent = `${progressValue1}`
      progressBar1.style.background = `conic-gradient(
        
        #8400FF ${progressValue1 * 0.4}deg,
        #8400ff10 ${progressValue1 * 0.4}deg
      
      )`;
      if(progressValue1 == progressEndValue1){
        clearInterval(progress);
      }
      
    }, speed)

    let progressBarDos = document.getElementById("circular-progreso");
    let valueContainerDos = document.getElementById("vs")

    let progressValueDos = 0;
    let progressEndValueDos = 0;
    let speedeDos = 10
    if(progressEndValueDos > 0){

      let progresDos = setInterval( () =>{

        progressValueDos++;
        valueContainerDos.textContent = `${progressValueDos}`
        progressBarDos.style.background = `conic-gradient(
          
          #8400FF ${progressValueDos * 0.9}deg,
          #8400ff10 ${progressValueDos * 0.9}deg
        
        )`;
        if(progressValueDos == progressEndValueDos){
          clearInterval(progresDos);
        }
        
      }, speedeDos)
    };

    


   






</script>
{% endblock %}